{% extends "global/Page.html" %}

{% block title %}
    PROJECT INFORMATION
{% endblock %}

{% block content %}

<style>
     .content-box {
        border: 1px solid #ccc;
        padding: 10px;
        background-color: #f9f9f9;
    }
</style>

<div class="content-box">
    <p>
        You now have <b style="color: red">3 minutes</b> to review the information below.
    </p>
    <p>
        Dear <strong>{{ role }}</strong>, only you possess the information below, so it is essential that you share it
        with the rest of the team to achieve an optimal decision for the company. Make sure to <strong>pay close attention
        and remember the details</strong>, as the information will not be repeated later.
    <p/>

    <h2>Project Descriptions</h2>

    <p>Your company wants to <strong>launch a new software tool</strong>. Please decide on the project that is expected to maximize the company's success.<p>

    <p>Here’s a brief overview of each project:<p>

    <div class="project-description">
        <h3>Project A: GreenLedger</h3>
        <p>This project offers a sustainability-focused accounting tool that helps businesses track environmental metrics alongside financials. It is designed to support companies in meeting their ESG goals by providing transparent reporting and analytics. The tool integrates seamlessly with existing ERP systems to minimize disruption.
        {% if role == 'Chief Marketing Officer' or role == 'Chief Human Resources Officer' %} The project is expected to yield a profit of <strong>3 million €</strong> per year.{% endif %}
        {% if role == 'Chief Financial Officer' %} Market demand is projected at <strong>55.000 users</strong>.{% endif %}
        {% if role == 'Chief Human Resources Officer' %} The expected salary cost is <strong>60.000 €</strong> per year.{% endif %}
        Its environmental impact is rated at <strong>35 tons of CO₂ per year</strong>.
        </p>
    </div>

    <div class="project-description">
        <h3>Project B: AssetPilot</h3>
        <p>AssetPilot is designed to streamline fixed asset management with advanced AI forecasting and depreciation tracking. The software helps companies optimize asset utilization and reduce unnecessary capital expenditures. It offers detailed dashboards and predictive maintenance alerts.
        {% if role == 'Chief Human Resources Officer' %} The projected profit is <strong>5 million €</strong> per year.{% endif %}
        {% if role == 'Chief Financial Officer' %} The environmental impact is estimated at <strong>65 tons of CO₂</strong> annually.{% endif %}
        {% if role == 'Chief Financial Officer' or role == 'Chief Marketing Officer' %} Market demand is estimated at <strong>75.000 users</strong>.{% endif %}
        {% if role == 'Chief Marketing Officer' %} The annual salary cost is expected to be <strong>62.000 €</strong>.{% endif %}
        </p>
    </div>

    <div class="project-description">
        <h3>Project C: BrandVista</h3>
            <p>This platform enhances brand visibility and positioning through real-time customer sentiment analysis. It aggregates data from social media, surveys, and sales to provide actionable marketing insights. The tool is tailored for fast-moving consumer goods companies aiming to increase market share.
        {% if role == 'Chief Human Resources Officer' %} Expected profit is <strong>5 million €</strong> per year.{% endif %}
        {% if role == 'Chief Financial Officer' or role == 'Chief Human Resources Officer' %} The environmental impact is estimated at <strong>65 tons of CO₂</strong> per year.{% endif %}
        {% if role == 'Chief Financial Officer' %} The salary cost is projected at <strong>60.000 €</strong> annually.{% endif %}
        {% if role == 'Chief Marketing Officer' %} Market demand is estimated at <strong>70.000 users</strong>.{% endif %}
        </p>
    </div>

    <div class="project-description">
        <h3>Project D: AuditAce</h3>
         <p>AuditAce offers an AI-based solution for internal audits and risk control optimization. It automates compliance checks and identifies potential fraud patterns with high accuracy. The software helps reduce audit costs while improving regulatory adherence.
        {% if role == 'Chief Human Resources Officer' %} The forecasted profit is <strong>6 million €</strong> annually.{% endif %}
        {% if role == 'Chief Financial Officer' %} Environmental impact is expected to be <strong>80 tons of CO₂</strong>.{% endif %}
        {% if role == 'Chief Financial Officer' or role == 'Chief Marketing Officer' %} The salary cost amounts to <strong>56.000 €</strong> per year.{% endif %}
        {% if role == 'Chief Marketing Officer' %} Market demand is estimated at <strong>80.000 users in Germany</strong>.{% endif %}
        </p>
    </div>

    <div class="project-description">
        <h3>Project E: PayFlex</h3>
            <p>PayFlex modernizes payroll systems with flexible benefits administration and mobile access. It enables employees to customize their compensation packages and manage payments conveniently. The system integrates with HR software to streamline payroll processing.
        {% if role == 'Chief Human Resources Officer' %} The expected profit is <strong>3 million €</strong> annually.{% endif %}
        {% if role == 'Chief Financial Officer' or role == 'Chief Marketing Officer' %} Market demand stands at <strong>75.000 users</strong>.{% endif %}
        The salary cost is <strong>56.000 €</strong>.
        {% if role == 'Chief Marketing Officer' %} Environmental impact is <strong>50 tons of CO₂</strong>.{% endif %}
        </p>
    </div>

    <div class="project-description">
        <h3>Project F: ComplyNow</h3>
         <p>This tool supports regulatory compliance and generates automated legal reporting. It helps companies stay up-to-date with changing regulations and avoid costly penalties. The platform offers customizable compliance workflows for various industries.
        {% if role == 'Chief Human Resources Officer' %} Expected profit is <strong>2 million €</strong>.{% endif %}
        Market demand is estimated at <strong>55.000 users in Germany</strong>.
        {% if role == 'Chief Financial Officer' or role == 'Chief Human Resources Officer' %} The salary cost is <strong>52.000 €</strong>.{% endif %}
        {% if role == 'Chief Marketing Officer' %} Environmental impact is <strong>50 tons of CO₂</strong>.{% endif %}
        </p>
    </div>

    <hr>
    <p>Once you feel prepared, click the next button below to proceed to the next step.</p>

    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        tr:hover {
            background-color: #e2e2e2;
        }
    </style>
</div>

<br/><br/>

<!-- Logging fields -->
<!-- Logging fields -->
<input type="hidden" name="task_load_time_project" id="task_load_time_project" value=""/>
<input type="hidden" name="task_finish_click_time_project" id="task_finish_click_time_project" value=""/>
<input type="hidden" name="task_end_time_project" id="task_end_time_project" value=""/>

<!-- Timeout message -->
<div class="text-center mt-3" id="warning-message" style="display: none; color: darkorange; font-weight: bold;">
    You have 1 minute left!
</div>

<!-- Next Button -->
<div class="d-flex justify-content-center mt-4">
    <button id="nextbtn" class="otree-btn-next btn btn-primary next-button otree-next-button">Next</button>
</div>

<!-- Waiting message -->
<div class="text-center mt-3" id="waiting-message" style="display: none;">
    Waiting for the other participants...
</div>

<script>
    const taskDuration = {{ taskDuration }} * 1000;
    const warningTime = 60 * 1000;

    let timeoutIdWarning = null;
    let timeoutIdEnd = null;
    let allReady = false;

    function liveRecv(data) {
        if (data.type === "go_to_next") {
            allReady = true;
            document.getElementById("warning-message").style.display = "none";
            document.getElementById("task_end_time_project").value = Date.now();
            form.submit();
        } else if (data.type === "waiting") {
        }
    }

    document.addEventListener("DOMContentLoaded", function () {
        const form = document.querySelector("form");
        document.getElementById("task_load_time_project").value = Date.now();

        const button = document.getElementById("nextbtn");
        const waitingMessage = document.getElementById("waiting-message");
        const warningMessage = document.getElementById("warning-message");

        function handleNextClick() {
            if (allReady) return;
            allReady = true;

            document.getElementById("task_finish_click_time_project").value = Date.now();
            button.disabled = true;
            button.style.backgroundColor = "#ccc";
            button.style.borderColor = "#ccc";
            button.style.color = "#666";
            button.style.cursor = "not-allowed";
            waitingMessage.style.display = "block";
            warningMessage.style.display = "none";
            liveSend({ type: "next_clicked" });

            clearTimeout(timeoutIdWarning);
            clearTimeout(timeoutIdEnd);
        }

        button.addEventListener("click", function (e) {
            e.preventDefault();
            handleNextClick();
        });

        timeoutIdWarning = setTimeout(() => {
            if (!allReady) {
                warningMessage.style.display = "block";
            }
        }, taskDuration - warningTime);

        timeoutIdEnd = setTimeout(() => {
            if (!allReady) {
                liveSend({ type: "next_clicked" });
            }
        }, taskDuration);
    });
</script>


{% endblock %}